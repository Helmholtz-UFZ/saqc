varname                 ; test
#-----------------------;-------------------------------------------
# Data Preparation
sac254_raw              ; flagManual(mdata='maint', method='closed')
level_raw               ; flagRange(min=0)
water_temp_raw          ; flagRange(min=-1)
sac254_raw              ; flagRange(min=0, max=60)
level_raw               ; linear(freq='15min')
water_temp_raw          ; linear(freq='15min')
sac254_raw              ; linear(freq='15min')
# Drift Correcture
sac254_raw              ; correctDrift(target='sac254_corr', maintenance_field='maint', model='exponential')
# Multivariate Flagging Procedure
level_raw               ; transform(target='level_z', func=zNorm, freq='30D')
water_temp_raw          ; transform(target='water_z', func=zNorm, freq='30D')
sac254_raw              ; transform(target='sac_z', func=zNorm, freq='30D')
kNN_scores              ; assignKNNScore(field=['level_z', 'water_z', 'sac_z'], freq='30D')
kNN_scores              ; flagByStray(freq='30D')
kNN_scores              ; flagGeneric(field=['level_raw'], func=isflagged(x))
kNN_scores              ; flagGeneric(field=['sac254_corr']   , func=isflagged(x))
kNN_scores              ; flagGeneric(field=['water_temp_raw'], func=isflagged(x))